<html>
<head>

    <!--Initialization -->

    <meta name="viewport" content="width=100%; initial-scale=1; user-scalable=no" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <base><!-- used to process relative links in content -->
    <title>Turpial</title>
        
    <!-- Let's import some css from Turpial desktop, some changes to adapt -->
    
    <link href="css/common.css" rel="stylesheet" type="text/css">
    <link href="css/main.css" rel="stylesheet" type="text/css">
    
    
    <!-- Let's import phonegap, jquery, iscroll and this time also template.js -->
    
    <script type="text/javascript" charset="utf-8" src="js/cordova-1.7.0.js"></script> 
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/iscroll.js"></script>
    <script type="text/javascript" src="js/templates.js"></script>
    
    <script type="text/javascript">
        var myScroll;
        $(document).ready(function() {  
            
            //Let's add to our document an event listener on deviceready event and play a sound
            
            document.addEventListener("deviceready", onDeviceReady, false);

            function onDeviceReady () {
                //Make a background sound using Phonegap when device is ready
                new Media('/android_asset/www/sounds/cambur_pinton.ogg').play();
            }

            /*
            This is the core of our tutorial: we will fetch a .partial file representing
            a template, we fill it and show in the list.
            */
            
            var tweetList = "";
                
            //Show the tweets. Just get the template and fill the values.
                    
            templates.getTemplate("templates/status.partial", function(template) {
            var values = { avatar : "pixmaps/unknown.png", username: "4ndreaSt4gi", 
                            message: "Hi Turpial mobile!", reposted_by : "Retweeted by Turpial",
                            timestamp : "oct 18, 02:07 am from web in reply to xyz"}
                for(var i = 0; i < 20; i++)
                    tweetList += templates.fillTemplate(template, values);
                $('#tweetList').html(tweetList);
                myScroll = new iScroll('wrapper', { hideScrollbar: true, fadeScrollbar: true });
             });
                        
        });
                
    </script>

</head>
<body>

        <!-- The header of our application -->

        <header id="mainHeader" class="header">
            <div class="combo">
                <img src="pixmaps/twitter.png" />
                <label>@4ndreaSt4gi :: Timeline</label>
            </div>
            <div class="combo">
                <label>In this empty space we're going to build the menu in the next tutorial</label>
            </div>
        </header>
        
        
        <!-- Our timeline-->
        
        <div id="timeline" class="list">
            <div id="wrapper" style="height: 100%;">
                <div id="tweetList" class="scroller">
                    <!-- We will insert our tweets here -->
                </div>
            </div>
        </div>
        
</body>
</html>

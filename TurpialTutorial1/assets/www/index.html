<html>
<head>

    <!--Initialization -->

    <meta name="viewport" content="width=100%; initial-scale=1; user-scalable=no" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <base><!-- used to process relative links in content -->
    <title>Turpial</title>
        
    <!-- Let's import some css from Turpial desktop, some changes to adapt -->
    
    <link href="css/common.css" rel="stylesheet" type="text/css">
    <link href="css/main.css" rel="stylesheet" type="text/css">
    
    
    <!-- Let's import phonegap, jquery and iscroll -->
    
    <script type="text/javascript" charset="utf-8" src="js/cordova-1.7.0.js"></script> 
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/iscroll.js"></script>
    
    <script type="text/javascript">
        var myScroll;
        $(document).ready(function() {  
            
            //Let's add to our document an event listener on deviceready event and play a sound
            
            document.addEventListener("deviceready",onDeviceReady,false);

            function onDeviceReady () {
                //Make a background sound using Phonegap when device is ready
                new Media('/android_asset/www/sounds/cambur_pinton.ogg').play();
            }

            /*
            This is the core of our tutorial: we create a string with some
            html code representing a tweet (we will see how parametrize it
            using templates) and then we load iScroll.
            */
            
            var tweetHtml = 
                '<div class="tweet"> \
                    <input name="indicator" type="hidden" value="" /> \
                    <div id="replycontainer-<% @status_replyto_id %>" class="replylist" style="display: none;"> \
                        <div id="replystatus-<% @status_replyto_id %>" > \
                        </div> \
                    </div> \
                    <div class="icon"><img src="pixmaps/unknown.png" width="48" height="48" /></div> \
                    <div class="content" name="<% @status_id %>"> \
                        <div> \
                            <label class="name">4ndreaSt4gi</label> \
                            <div class="clearfix"></div> \
                        </div> \
                        <div class="message">Hi Turpial Mobile!</div> \
                        <div class="timestamp">oct 18, 02:07 am from web in reply to xyz</div> \
                        <div class="repost"><label>Retweeted by Turpial</label></div> \
                    </div> \
                    <div class="clearfix"></div> \
                    <div class="options"> \
                        <div class="button-box" style="display: none;"> \
                            <div class="clearfix"></div> \
                        </div> \
                        <div class="progress-box" style="display: none;"> \
                            <label name="progress-msg-<% @status_id %>">Loading...</label> \
                        </div> \
                        <div class="clearfix"></div> \
                    </div> \
                    <div id="bubble-<% @status_id %>" class="content-divider" style="display:none"> \
                        <div class="outer-carrot"></div> \
                        <div class="inner-carrot"></div> \
                        <div class="bubble-x"></div> \
                    </div> \
                </div>';
            
            var tweetList = "";
            
            for(var i = 0; i < 20; i++)
                tweetList += tweetHtml;
                
            //Show the tweets
            $('#tweetList').html(tweetList);
            
            //Activate iScroll for the element with id='wrapper'
            myScroll = new iScroll('wrapper', { hideScrollbar: true, fadeScrollbar: true });
            
        });
                
    </script>

    
</head>
<body>

        <!-- The header of our application -->

        <header id="mainHeader" class="header">
            <div class="combo">
                <img src="pixmaps/twitter.png" />
                <label>@4ndreaSt4gi :: Timeline</label>
            </div>
            <div class="combo">
                <label>In this empty space we're going to build the menu in the next tutorial</label>
            </div>
        </header>
        
        
        <!-- Our timeline-->
        
        <div id="timeline" class="list">
            <div id="wrapper" style="height: 100%;">
                <div id="tweetList" class="scroller">
                    <!-- We will insert our tweets here -->
                </div>
            </div>
        </div>
        
</body>
</html>